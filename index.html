<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>YouTube Video Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  padding: 20px;
}
h1 {
  text-align: center;
}
textarea {
  width: 100%;
  height: 120px;
  padding: 10px;
  font-size: 14px;
}
button {
  padding: 10px 15px;
  margin-top: 10px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  background: #1e40af;
}
.grid {
  margin-top: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 15px;
}
iframe {
  width: 100%;
  height: 200px;
  border-radius: 8px;
}
.tracker {
  margin-top: 20px;
  background: white;
  padding: 15px;
  border-radius: 8px;
  text-align: center;
}
</style>
</head>

<body>

<h1>üì∫ YouTube Learning Dashboard</h1>

<textarea id="input" placeholder="Paste YouTube links (one per line)"></textarea>
<br>
<button onclick="loadVideos()">Load Videos</button>

<div class="tracker">
  ‚è± Study Time: <span id="time">0</span> seconds<br><br>
  <button onclick="start()">Start</button>
  <button onclick="stop()">Stop</button>
  <button onclick="reset()">Reset</button>
</div>

<div id="videos" class="grid"></div>

<script>
function getID(url) {
  let match = url.match(/(v=|youtu.be\/)([a-zA-Z0-9_-]{11})/);
  return match ? match[2] : null;
}

function loadVideos() {
  const box = document.getElementById("videos");
  box.innerHTML = "";
  const lines = document.getElementById("input").value.split("\\n");

  lines.forEach(line => {
    const id = getID(line.trim());
    if (id) {
      const iframe = document.createElement("iframe");
      iframe.src = "https://www.youtube.com/embed/" + id;
      iframe.allowFullscreen = true;
      box.appendChild(iframe);
    }
  });
}

/* WATCH TIME TRACKER */
let seconds = Number(localStorage.getItem("studyTime")) || 0;
let timer = null;

document.getElementById("time").innerText = seconds;

function start() {
  if (timer) return;
  timer = setInterval(() => {
    seconds++;
    localStorage.setItem("studyTime", seconds);
    document.getElementById("time").innerText = seconds;
  }, 1000);
}

function stop() {
  clearInterval(timer);
  timer = null;
}

function reset() {
  seconds = 0;
  localStorage.removeItem("studyTime");
  document.getElementById("time").innerText = 0;
}
</script>

</body>
</html>
